# Configuration files


## ChiBio default configuration
The `chibio_default.cfg` is read by the `app.py` when the ChiBio UI is initialized. The values are applied for all bioreactors that are controlled by the ChiBio control computer.
The current configuration options are:
 - ``NUMBER_OF_OD_MEASUREMENTS``
 
   The number of OD measurements that are collected each after and then these number are averaged.
    
   Default is 4 
 - ``TWO_PUMPS_PER_DEVICE``
 
   Whether to use two pumps or four per bioreactor. This option makes it possible to use two ChiBio bioreactors with one pump board.
   
   Default is False (i.e. use four pumps, same as the vanilla implementation)
 - ``DEVICE_COMM_FAILURE_THRESHOLD``
   
   Various communication errors can occur during the ChiBio operation. This sets the threshold on the number of communication errors that is allowed before the ChiBio stops working.
   For example, 24-48 hours long operation might generate multiple error messages. If the error threshold is crossed, the experiment will fail.
   
   Default is 10 
 - ``CONTINUOUS_STIRRING``
 
   When it is set to TRUE, the bioreactors never stop stirring the liquid culture. That includes when measurements are taken. Contiguous stirring prevents the magnetic bar from getting stuck at the bottom of the glass tube.
   
   Default is False 
 - ``LOG_LEVEL``
 
   What level of logging event is written into the log files.
   
   Default is WARNING
 - ``DATA_DIR``
   
   Where the data from the experiments are saved.
 
   Default is data
 - ``BEAGLEBONE_NAME``
 
   The name of the ChiBio control computer. When multiple control computers are used in the same lab, this helps to distinguish between control computers.
   
   Default is 'beaglebone'
   
## ChiBio Bioreactor configuration
The `device_config.csv` configuration file allows the users to attach a name to each bioreactor, and also allows to the user to change the default OD calibration values that are reported on experiment.
This files is automatically generated by the OD calibration script (available upon request).

The current fields are 

 - ``device_name`` 
   The name of the Bioreactor
 - ``device_id``
   The ID of the device (this number is displayed when the ChiBio setup is initialized)
 - ``fit_quad_coeff``
   The quad coefficient of the calibration polynomial
 - ``fit_lin_coeff``
   The linear coefficient of the calibration polynomial
 - ``fit_r_square``
   The reported r^2 value of the fit (included just for quality control and debug purposes)